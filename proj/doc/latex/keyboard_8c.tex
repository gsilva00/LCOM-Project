\doxysection{/home/gui/\+Desktop/\+MINIX-\/\+LCOM/shared/proj/src/devices/kbc/keyboard.c File Reference}
\hypertarget{keyboard_8c}{}\label{keyboard_8c}\index{/home/gui/Desktop/MINIX-\/LCOM/shared/proj/src/devices/kbc/keyboard.c@{/home/gui/Desktop/MINIX-\/LCOM/shared/proj/src/devices/kbc/keyboard.c}}
{\ttfamily \#include "{}keyboard.\+h"{}}\newline
{\ttfamily \#include "{}kbc.\+h"{}}\newline
{\ttfamily \#include "{}i8042.\+h"{}}\newline
Include dependency graph for keyboard.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=283pt]{keyboard_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{keyboard_8c_aa7a491d4d95eab5ca5326c4000ad67f8}{kbd\+\_\+subscribe\+\_\+int}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}bit\+\_\+no)
\begin{DoxyCompactList}\small\item\em Subscribes and enables keyboard interrupts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{keyboard_8c_a5bdf6cfb570c375192b0d87913b65c57}{kbd\+\_\+unsubscribe\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Unsubscribes keyboard interrupts. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{keyboard_8c_ab9e6ed7960d60aa4834f2038247d4536}{kbc\+\_\+ih}} ()
\item 
int \mbox{\hyperlink{keyboard_8c_aee81e59c2a9baaacf9c588e40546dd48}{reset\+\_\+keyboard}} ()
\begin{DoxyCompactList}\small\item\em Re-\/enables keyboard interrupts (that lcf\+\_\+start() disabled) by writing the appropriate command byte. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{keyboard_8c_abc8ff8ed43aabe9661e0e21f3d7e6000}{get\+\_\+scancode}} ()
\begin{DoxyCompactList}\small\item\em Getter for the scancode static global variable. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{keyboard_8c_ae0ec49ba912afb377701ae089dfbf992}{kbd\+\_\+hook\+Id}} = \mbox{\hyperlink{group___k_b_c_i_r_q_ga5c1072213ce8d8cd43628c4319ae0391}{KBD\+\_\+\+IRQ}}
\item 
static uint8\+\_\+t \mbox{\hyperlink{keyboard_8c_aa1de7a5557e9d96b83cf03f73c92163f}{scancode}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{keyboard_8c_abc8ff8ed43aabe9661e0e21f3d7e6000}\label{keyboard_8c_abc8ff8ed43aabe9661e0e21f3d7e6000} 
\index{keyboard.c@{keyboard.c}!get\_scancode@{get\_scancode}}
\index{get\_scancode@{get\_scancode}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{get\_scancode()}{get\_scancode()}}
{\footnotesize\ttfamily uint8\+\_\+t get\+\_\+scancode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Getter for the scancode static global variable. 

Getter is needed because of the use of the static keyword (makes the variable only accesible in the file it\textquotesingle{}s declared). Provides encapsulation

\begin{DoxyReturn}{Returns}
uint8\+\_\+t value corresponding to the scancode 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=291pt]{keyboard_8c_abc8ff8ed43aabe9661e0e21f3d7e6000_icgraph}
\end{center}
\end{figure}
\Hypertarget{keyboard_8c_ab9e6ed7960d60aa4834f2038247d4536}\label{keyboard_8c_ab9e6ed7960d60aa4834f2038247d4536} 
\index{keyboard.c@{keyboard.c}!kbc\_ih@{kbc\_ih}}
\index{kbc\_ih@{kbc\_ih}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{kbc\_ih()}{kbc\_ih()}}
{\footnotesize\ttfamily void kbc\+\_\+ih (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8c_ab9e6ed7960d60aa4834f2038247d4536_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=256pt]{keyboard_8c_ab9e6ed7960d60aa4834f2038247d4536_icgraph}
\end{center}
\end{figure}
\Hypertarget{keyboard_8c_aa7a491d4d95eab5ca5326c4000ad67f8}\label{keyboard_8c_aa7a491d4d95eab5ca5326c4000ad67f8} 
\index{keyboard.c@{keyboard.c}!kbd\_subscribe\_int@{kbd\_subscribe\_int}}
\index{kbd\_subscribe\_int@{kbd\_subscribe\_int}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{kbd\_subscribe\_int()}{kbd\_subscribe\_int()}}
{\footnotesize\ttfamily int kbd\+\_\+subscribe\+\_\+int (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{bit\+\_\+no }\end{DoxyParamCaption})}



Subscribes and enables keyboard interrupts. 

Uses the IRQ\+\_\+\+EXCLUSIVE flag to avoid conflicts with Minix\textquotesingle{}s default keyboard IH


\begin{DoxyParams}{Parameters}
{\em bit\+\_\+no} & address of memory to be initialized with the bit number to be set in the mask returned upon an interrupt \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 upon success and non-\/zero otherwise 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{keyboard_8c_aa7a491d4d95eab5ca5326c4000ad67f8_icgraph}
\end{center}
\end{figure}
\Hypertarget{keyboard_8c_a5bdf6cfb570c375192b0d87913b65c57}\label{keyboard_8c_a5bdf6cfb570c375192b0d87913b65c57} 
\index{keyboard.c@{keyboard.c}!kbd\_unsubscribe\_int@{kbd\_unsubscribe\_int}}
\index{kbd\_unsubscribe\_int@{kbd\_unsubscribe\_int}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{kbd\_unsubscribe\_int()}{kbd\_unsubscribe\_int()}}
{\footnotesize\ttfamily int kbd\+\_\+unsubscribe\+\_\+int (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Unsubscribes keyboard interrupts. 

\begin{DoxyReturn}{Returns}
0 upon success and non-\/zero otherwise 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{keyboard_8c_a5bdf6cfb570c375192b0d87913b65c57_icgraph}
\end{center}
\end{figure}
\Hypertarget{keyboard_8c_aee81e59c2a9baaacf9c588e40546dd48}\label{keyboard_8c_aee81e59c2a9baaacf9c588e40546dd48} 
\index{keyboard.c@{keyboard.c}!reset\_keyboard@{reset\_keyboard}}
\index{reset\_keyboard@{reset\_keyboard}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{reset\_keyboard()}{reset\_keyboard()}}
{\footnotesize\ttfamily int reset\+\_\+keyboard (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Re-\/enables keyboard interrupts (that lcf\+\_\+start() disabled) by writing the appropriate command byte. 

\begin{DoxyReturn}{Returns}
0 upon success and non-\/zero otherwise 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8c_aee81e59c2a9baaacf9c588e40546dd48_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{keyboard_8c_ae0ec49ba912afb377701ae089dfbf992}\label{keyboard_8c_ae0ec49ba912afb377701ae089dfbf992} 
\index{keyboard.c@{keyboard.c}!kbd\_hookId@{kbd\_hookId}}
\index{kbd\_hookId@{kbd\_hookId}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{kbd\_hookId}{kbd\_hookId}}
{\footnotesize\ttfamily int kbd\+\_\+hook\+Id = \mbox{\hyperlink{group___k_b_c_i_r_q_ga5c1072213ce8d8cd43628c4319ae0391}{KBD\+\_\+\+IRQ}}\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{keyboard_8c_aa1de7a5557e9d96b83cf03f73c92163f}\label{keyboard_8c_aa1de7a5557e9d96b83cf03f73c92163f} 
\index{keyboard.c@{keyboard.c}!scancode@{scancode}}
\index{scancode@{scancode}!keyboard.c@{keyboard.c}}
\doxysubsubsection{\texorpdfstring{scancode}{scancode}}
{\footnotesize\ttfamily uint8\+\_\+t scancode\hspace{0.3cm}{\ttfamily [static]}}

